<script>
	export let items = ['foo', 'bar', 'baz'];
	export let fromDom = '';
	export let fromState = '';
	export let x = 0;
	export let y = 0;

	function tap(node, callback) {
		function clickHandler(event) {
			callback();
		}

		node.addEventListener('click', clickHandler, false);

		return {
			destroy() {
				node.addEventListener('click', clickHandler, false);
			}
		};
	}
</script>

{#each items as item}
	<button use:tap='{() => fromDom = this.textContent, fromState = item}'>{item}</button>
{/each}

<p>fromDom: {fromDom}</p>
<p>fromState: {fromState}</p>
